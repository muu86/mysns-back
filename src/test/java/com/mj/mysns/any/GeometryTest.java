package com.mj.mysns.any;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
public class GeometryTest {

//    @Autowired
//    EntityManager em;
//
//    GeometryFactory geometryFactory = new GeometryFactory();
//    WKTReader wktReader = new WKTReader();
//
//    @Test
//    void t1() throws ParseException {
//        Geometry read = wktReader.read(
//            "POLYGON ((953700.0221347539 1954605.0654306228, 953693.8707729894 1954590.821330921, 953690.7685339858 1954583.2155999783, 953689.6442981292 1954577.4426929879, 953687.8503960765 1954569.0493056013, 953682.2841057746 1954556.177594253, 953682.9076887361 1954549.9265836547, 953685.9698126779 1954517.7651604868, 953683.2280216807 1954513.2823664658, 953667.4933562394 1954509.241390487, 953663.8768353914 1954507.5742044218, 953661.2290878112 1954506.1197967306, 953659.5232818922 1954505.4730909856, 953653.239962069 1954504.6007707624, 953646.0491759252 1954503.3893931066, 953630.525556873 1954500.8787333271, 953623.2007866 1954500.9795841908, 953620.4335632072 1954500.5574309726, 953613.6917831678 1954498.6249347115, 953610.7369706397 1954498.0788230142, 953609.4679863506 1954497.4287993072, 953604.8947702546 1954492.1740120628, 953604.1914639347 1954489.0538937855, 953603.3951921826 1954486.1221997521, 953605.2531072347 1954480.2075117708, 953607.417616204 1954478.9464841168, 953608.4690920122 1954476.848673481, 953609.6182439405 1954472.813057157, 953609.4136565934 1954466.4724758836, 953608.650847825 1954464.1953633798, 953608.4205044748 1954461.854447456, 953606.3139010626 1954459.3345585465, 953603.2312352518 1954455.2284351233, 953591.2786645475 1954422.272015244, 953591.5135570532 1954416.4289176266, 953591.4550525041 1954411.244135489, 953590.5443471441 1954407.4693590084, 953590.1550714183 1954404.753424748, 953589.8363992716 1954403.4745870046, 953588.2787385811 1954401.3586349853, 953583.7108991332 1954394.2914852754, 953580.7162229707 1954389.0593086137, 953579.5457554744 1954386.4414855582, 953574.5377668586 1954372.7231190242, 953574.3741978552 1954371.4744467186, 953572.531405663 1954359.7075583355, 953570.8801901314 1954354.6551830003, 953566.8314558574 1954342.181265805, 953563.5763458958 1954332.1402403272, 953561.797527538 1954326.5887259233, 953559.7987185242 1954317.8215621992, 953558.0613247292 1954308.3972523217, 953558.2136070977 1954301.6799146538, 953558.4074077399 1954299.9605182167, 953559.0585855506 1954296.0834872467, 953560.5091772464 1954289.891063948, 953562.7995302435 1954279.9445633355, 953563.6398588783 1954267.632630809, 953556.5319985603 1954261.5156153436, 953560.2281430522 1954257.4664824517, 953558.831396794 1954256.2873312705, 953546.7222191364 1954261.4427207543, 953543.4270302235 1954261.367242162, 953539.7811690856 1954260.1990271476, 953532.7004875236 1954253.364131211, 953529.9671478556 1954250.4737051337, 953523.4914134595 1954242.7289321304, 953520.1141840427 1954239.061210166, 953515.0847533769 1954236.182969058, 953511.1444976184 1954235.4851437965, 953510.0339471904 1954235.1161752008, 953504.5855026098 1954232.5830315922, 953495.7482247351 1954224.383962294, 953490.5248101968 1954217.3512786385, 953489.0457819875 1954215.3598628375, 953481.9525016168 1954206.1509061009, 953472.727447003 1954201.357642557, 953470.4852121284 1954199.6511736037, 953468.8779179323 1954197.0356681584, 953462.6868068347 1954186.9792333064, 953461.4411874191 1954184.8926132913, 953460.2593706113 1954182.961597342, 953454.9472391432 1954185.5828343204, 953447.1735509773 1954189.4356862926, 953442.0326830042 1954191.9300607948, 953436.911851305 1954180.4934512386, 953433.3861213784 1954172.5770792256, 953431.7120456669 1954169.0562610233, 953427.0916718318 1954157.9288807195, 953425.8908824609 1954155.2482410034, 953422.98270924 1954148.7980512823, 953422.6008925654 1954147.4875600762, 953417.2648100975 1954148.6094753603, 953413.4526376615 1954136.634116046, 953409.6764311888 1954125.4082901222, 953405.8819054058 1954113.932653206, 953405.7699620188 1954113.3704541724, 953394.4583715937 1954109.8388022345, 953384.2100106693 1954106.612393654, 953381.6292164563 1954105.9073534515, 953380.4276771197 1954100.2598082363, 953378.5006293613 1954093.1476529166, 953376.2375877112 1954084.6947741243, 953374.7381687183 1954078.860878692, 953373.1924337628 1954072.9642521788, 953372.8404485097 1954071.4356826758, 953372.4264877858 1954069.9074420552, 953371.770744937 1954070.0988527918, 953368.0005113429 1954066.0263647037, 953351.2705874819 1954080.328920174, 953335.4910353653 1954091.3766273705, 953306.73370563 1954105.712021346, 953306.0869937723 1954104.4029356802, 953305.8027895174 1954103.7796735086, 953300.4195355218 1954093.1871446543, 953290.7865593511 1954079.150441817, 953285.5582489335 1954068.181228551, 953283.2532884205 1954063.5081822036, 953278.6616715712 1954054.7857630553, 953277.5088533235 1954052.4797304398, 953273.7362168564 1954044.9405286864, 953269.678206862 1954036.7460826158, 953266.3490307102 1954030.2661373015, 953263.3705089731 1954025.4407224178, 953255.6342389052 1954012.7984370638, 953252.9873985194 1954008.5010672614, 953243.9055259221 1954001.1149932782, 953233.4654317541 1953996.9839332262, 953226.1353870222 1954013.7986664397, 953221.9407879689 1954029.7840598521, 953215.3587137731 1954055.121691109, 953212.9930406536 1954065.5684109547, 953209.5975782298 1954064.4928314378, 953205.4059318972 1954063.3275115322, 953202.9206682206 1954060.0918937654, 953196.1449171125 1954057.5977801194, 953183.6680042833 1954058.2577728857, 953180.9144500368 1954057.3977064746, 953180.9279558662 1954056.9288070549, 953175.4626086858 1954057.2387066747, 953172.8233158983 1954057.3776666364, 953174.4011253157 1954066.1160800927, 953174.8827925865 1954071.549526815, 953174.7666264138 1954073.205535073, 953172.6377746527 1954093.0535441516, 953170.9215478182 1954108.150108514, 953132.7743307224 1954101.137196161, 953127.4118080393 1954100.2909749043, 953129.271541666 1954132.7691710945, 953131.6119653324 1954182.3635275066, 953131.6282855809 1954182.6133490899, 953130.5510406182 1954182.6810430617, 953108.6140126371 1954184.1719538341, 953096.3260164054 1954185.0178771634, 953091.7983033201 1954185.3238013522, 953090.2522436936 1954185.3939832381, 953085.5217752588 1954185.7319720294, 953079.5263005402 1954186.1696398382, 953075.4972203878 1954186.4409296317, 953073.3275771241 1954186.5464090153, 953070.3747446863 1954186.562079154, 953065.3282511783 1954186.1200321629, 953060.546151945 1954185.7705475637, 953059.702986484 1954185.6810565975, 953058.6385817968 1954185.3428314938, 953056.291036347 1954184.5125989877, 953050.4710528769 1954182.6061960685, 953043.3980811861 1954180.2386143135, 953034.4486990722 1954177.2872083397, 953020.6312116546 1954175.4862233913, 953016.8020720937 1954175.006727439, 953009.2527498497 1954174.0471573062, 952997.7811602084 1954172.5775967739, 952989.7786826249 1954171.5574545325, 952987.2930095228 1954171.2587600313, 952980.728626712 1954170.3559402036, 952970.3085116359 1954173.0042855341, 952965.3639351843 1954174.2490779976, 952955.4872830663 1954176.268769129, 952949.9317934549 1954177.110952639, 952948.3051173623 1954176.6827454856, 952946.6949282801 1954176.347416706, 952945.2243549873 1954175.949369765, 952943.1751772302 1954175.3974509833, 952942.3590185605 1954174.7460229439, 952936.2898758186 1954169.9669971343, 952929.3133411446 1954162.2258758803, 952927.556818206 1954157.8618030224, 952926.0869079767 1954157.5887066491, 952916.0809125382 1954155.7674944361, 952914.256451534 1954156.3079815852, 952911.3699091307 1954156.9480704768, 952908.2806113661 1954157.620223977, 952894.3950272305 1954160.5058795237, 952894.1922718703 1954160.537944128, 952890.4327377742 1954161.3076199603, 952887.7337868366 1954161.8837364959, 952880.6813696431 1954163.389623146, 952867.7126019472 1954159.522890348, 952866.9230409868 1954160.8695875835, 952861.1280816495 1954157.8394637622, 952855.8027569264 1954155.149721803, 952847.7974666448 1954153.599788648, 952840.0982467496 1954150.765701963, 952830.7397053692 1954147.3796267142, 952822.7395498133 1954146.7973110506, 952819.6060870917 1954148.0005041375, 952807.1808847458 1954152.3778595845, 952801.895758691 1954154.249230087, 952795.6320713453 1954154.0635504643, 952787.7736850028 1954153.8243563036, 952781.0095319435 1954153.5163783908, 952777.5075987773 1954152.9101916691, 952769.057857475 1954155.9539321065, 952767.0374414062 1954157.8079775872, 952743.9352269971 1954195.9166375175, 952737.2875209248 1954214.7260269143, 952705.3665589987 1954230.2337990317, 952687.2883953115 1954229.142173125, 952680.570557535 1954228.8969268422, 952677.4105064452 1954227.7271321204, 952675.9377736636 1954226.9222458666, 952607.8102825043 1954198.200456737, 952569.3920568475 1954219.803487669, 952535.1296427652 1954223.9518587978, 952528.5265665916 1954224.611671299, 952525.9527350587 1954225.2191125236, 952521.4789528914 1954227.0232014188, 952507.9619982104 1954231.7492274067, 952458.6787211786 1954266.1552489023, 952451.036344133 1954268.3820047772, 952468.629049063 1954275.1921107743, 952471.5380507305 1954275.9583863309, 952472.8703328692 1954276.8569839585, 952500.0597378291 1954296.705361151, 952520.2454182985 1954303.5017054647, 952522.982153499 1954304.2059181915, 952535.8162192281 1954318.101687701, 952529.8316285225 1954335.2831587505, 952536.7904122234 1954372.0767222545, 952554.8997521921 1954385.0698153183, 952585.4691218205 1954406.0868147109, 952593.6769178112 1954404.7317365014, 952605.3088543809 1954409.667172245, 952619.8139554546 1954435.1748081783, 952627.4796235494 1954440.5391431546, 952635.0454580643 1954453.462235337, 952635.976471244 1954458.049609776, 952640.3682551637 1954476.3945640693, 952648.5612454652 1954486.7532668614, 952660.9695150233 1954505.7434236598, 952668.8821859777 1954513.3856107953, 952679.1134105872 1954522.234045759, 952689.5410150174 1954532.8627847594, 952696.3187757966 1954541.5736047616, 952700.2240056393 1954550.3626466638, 952700.7180532389 1954572.819784283, 952698.3941392263 1954579.26775666, 952694.4690694087 1954590.284553674, 952692.0651133859 1954599.3559885889, 952691.8680212714 1954612.3212782205, 952689.407573193 1954628.4534226952, 952689.6000894575 1954644.0086936196, 952698.0645354111 1954658.6153945816, 952703.7503140973 1954670.4558629633, 952706.6038903686 1954675.2819418027, 952708.8526816391 1954681.2368174405, 952711.5425454251 1954690.6260911562, 952716.249681829 1954703.5963405683, 952718.7051430993 1954718.9206810005, 952723.3720153149 1954729.954854326, 952724.6219426767 1954733.041085615, 952727.8189692103 1954740.989195105, 952730.0988451001 1954749.598931265, 952731.1345011631 1954753.5609787886, 952741.2973881675 1954770.0629649418, 952750.1798376036 1954778.1068527936, 952752.7527704143 1954780.1554403172, 952758.9484480357 1954788.0566455212, 952767.331179955 1954792.9173543812, 952769.3038725784 1954793.9375061586, 952774.0138009212 1954795.5679008437, 952774.8917712164 1954796.1880117627, 952782.986640541 1954799.924661365, 952793.2569558156 1954798.4336790326, 952799.4158298284 1954799.4006240622, 952816.4732522946 1954799.5290117683, 952833.4789657791 1954801.9688256325, 952839.4092373461 1954803.936616992, 952839.7679332627 1954803.7157935712, 952851.078705434 1954807.091500699, 952853.8115532566 1954810.076894995, 952858.118553229 1954815.0831895971, 952860.3479431474 1954817.3825087629, 952860.7474099753 1954819.0047923264, 952867.129193171 1954826.562134453, 952873.5889455692 1954834.1190626542, 952885.5150656744 1954853.423654694, 952886.3904703024 1954856.5738503188, 952890.1019844558 1954870.1111745168, 952891.460136005 1954875.8838442434, 952891.4960251935 1954879.6322776333, 952891.5120463168 1954891.502834865, 952891.6617865408 1954899.1862192275, 952891.9692977708 1954907.0257085909, 952892.4310691893 1954908.7096386177, 952893.6942606777 1954914.2948812763, 952894.7482347536 1954918.69466996, 952897.5443992577 1954927.5825607416, 952898.1326196522 1954929.359785112, 952902.3293168214 1954928.4628317403, 952903.6221697833 1954933.7980086252, 952900.3344306445 1954935.314908248, 952900.1084813914 1954936.815557037, 952894.5757747743 1954939.1250855317, 952887.0934153931 1954944.9436777262, 952885.9504031771 1954950.1358406234, 952887.8224439501 1954958.5598084314, 952892.9616522568 1954955.7525518395, 952900.5105828956 1954965.4898953608, 952910.0559061487 1954974.6858373967, 952920.664876326 1954981.2520971189, 952930.358420892 1954985.9798922483, 952930.6241513194 1954985.9474932118, 952975.0329592119 1955004.236983091, 952982.9138855007 1955008.9114216743, 953021.7302519743 1955032.9464934375, 953038.9945109973 1955042.664256768, 953047.2526893229 1955044.7756329414, 953056.4241205518 1955042.477779407, 953063.1736834644 1955039.848906866, 953069.1570556792 1955037.131135247, 953076.8574166853 1955034.1533425022, 953091.5074406995 1955028.2027412988, 953104.2814573853 1955018.9193255135, 953116.3602351407 1955016.8879374622, 953141.2887238336 1955022.659455285, 953157.3950931701 1955026.291601372, 953177.510494154 1955031.713802982, 953197.6429368096 1955028.6700245559, 953221.5307163801 1955032.7296964256, 953238.5634520513 1955040.0735593361, 953253.6541543956 1955046.335131324, 953258.1861983436 1955052.6837344472, 953281.5970819213 1955072.9269897523, 953293.6952361723 1955068.7083024213, 953298.5931624771 1955067.526730088, 953312.4653746017 1955053.0833813224, 953317.2263305305 1955052.6512608968, 953343.4111774806 1955051.04481769, 953348.2527626706 1955050.9251543146, 953366.270382625 1955067.1675152162, 953379.0736826672 1955072.253663492, 953442.386679521 1955050.269572562, 953462.9609675179 1955033.291572453, 953503.9880730286 1954999.9919780625, 953510.8537203871 1954998.7059968673, 953512.7258243125 1954998.2902095795, 953514.6490532983 1954998.6548638097, 953528.0952491545 1955004.3313815454, 953530.9249365263 1954998.8183845477, 953534.4740592568 1954984.7737055724, 953535.7343221317 1954980.95541841, 953536.5732507585 1954977.2333329974, 953543.7079261555 1954970.6978543864, 953542.8813282881 1954967.8912755784, 953542.6722700989 1954966.735810582, 953532.614492316 1954931.6151306725, 953532.7499590511 1954930.7707219722, 953535.8421485026 1954927.630458764, 953558.0344783774 1954903.6154603993, 953571.064177691 1954889.5824405605, 953589.1823630355 1954869.0248038727, 953599.9521852147 1954852.7865950004, 953621.3057551826 1954767.9234389532, 953623.435943502 1954760.1959718307, 953700.0221347539 1954605.0654306228))");
//
//        System.out.println(read instanceof Polygon);
//    }

    @Test
    void t2() {

//        System.out.println(em);
//
//        Polygon window = geometryFactory.createPolygon(new Coordinate[]{
//            new CoordinateXY(126.93970974486072, 37.56992801280617),
//            new CoordinateXY(127.02808972041231, 37.566513680368125),
//            new CoordinateXY(127.03063375402729, 37.49999205884067),
//            new CoordinateXY(126.92268722836292, 37.49811127298443),
//            new CoordinateXY(126.93970974486072, 37.56992801280617),
//        });
//        window.setSRID(4326);
//
//        List<LegalAddress> selectAFromLegalAddressA = em.createQuery(
//            "select a "
//                + "from LegalAddress a "
//                + "where within(a.location, :window) = true",
//                LegalAddress.class)
//            .setParameter("window", window)
//            .getResultList();
//
//        for (LegalAddress legalAddress : selectAFromLegalAddressA) {
//            System.out.println(legalAddress.getEupmyundong());
//        }

//        List<LegalAddress> window = em.createQuery(
//                "select a from LegalAddress a where within(a.location, :window) = true",
//                LegalAddress.class)
//            .setParameter("window", polygon)
//            .getResultList();
//        System.out.println(window);
    }
}
